package:
  name: lava-tool
  version: "0.11.1"

source:
  fn: lava-tool-0.11.1.tar.gz
  url: https://pypi.python.org/packages/source/l/lava-tool/lava-tool-0.11.1.tar.gz
  md5: d934ec57c4e616ffe2be4dbded2118b7
#  patches:
   # List any patch files here
   # - fix.patch

build:
  preserve_egg_dir: True
  entry_points:
    # Put any entry points (scripts to be generated automatically) here. The
    # syntax is module:function.  For example
    #
    # - lava-tool = lava-tool:main
    #
    # Would create an entry point called lava-tool that calls lava-tool.main()

    - lava-tool=lava_tool.dispatcher:main
    - lava=lava.tool.main:LavaDispatcher.run
    - lava-dashboard-tool=lava_dashboard_tool.main:main

  # If this is a new build for the same version, increment the build
  # number. If you do not include this key, it defaults to 0.
  # number: 1

requirements:
  build:
    - python
    - setuptools
    - pyyaml >=3.10
    - argparse >=1.1
    - argcomplete >=0.3
    - keyring
    - json-schema-validator >=2.0
    - versiontools >=1.3.1
    - pyxdg >=0.19

  run:
    - python
    - setuptools
    - pyyaml >=3.10
    - argparse >=1.1
    - argcomplete >=0.3
    - keyring
    - json-schema-validator >=2.0
    - versiontools >=1.3.1
    - pyxdg >=0.19

test:
  # Python imports
  imports:
    - lava
    - lava.device
    - lava.device.tests
    - lava.helper
    - lava.helper.tests
    - lava.job
    - lava.job.tests
    - lava.script
    - lava.script.tests
    - lava.testdef
    - lava.testdef.tests
    - lava.tests
    - lava.tool
    - lava.tool.commands
    - lava_dashboard_tool
    - lava_dashboard_tool.tests
    - lava_scheduler_tool
    - lava_tool
    - lava_tool.commands
    - lava_tool.tests

  commands:
    # You can put test commands to be run here.  Use this to test that the
    # entry points work.

    - lava-tool --help
    - lava --help
    - lava-dashboard-tool --help

  # You can also put a file called run_test.py in the recipe that will be run
  # at test time.

  # requires:
    # Put any additional test requirements here.  For example
    # - nose

about:
  home: https://launchpad.net/lava-tool
  license: GNU Library or Lesser General Public License (LGPL)
  summary: 'Command line utility for Linaro validation services'

# See
# http://docs.continuum.io/conda/build.html for
# more information about meta.yaml
